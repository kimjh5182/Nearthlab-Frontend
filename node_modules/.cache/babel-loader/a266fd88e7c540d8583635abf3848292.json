{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kimmold\\\\Programming\\\\\\uCF54\\uB529\\uD14C\\uC2A4\\uD2B8\\\\NearthLab\\\\nearthlab\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport PhotoList from \"./pages/photoList\";\nimport Detail from \"./pages/detail\";\nimport getApi from './@api/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      page: 1,\n      meta: {\n        total: 1\n      },\n      chklist: [],\n      labels: [],\n      photos: []\n    };\n\n    this.setPhotos = sendPhotos => {\n      console.log(\"sendpthos\", sendPhotos);\n      this.setState({\n        photos: sendPhotos\n      });\n    };\n\n    this.setPage = sendPage => {\n      console.log(sendPage);\n      this.setState({\n        page: sendPage\n      });\n    };\n\n    this.setMeta = sendMeta => {\n      this.setState({\n        meta: sendMeta\n      });\n    };\n\n    this.setChklist = sendChklist => {\n      this.setState({\n        chklist: sendChklist\n      });\n    };\n  }\n\n  async componentDidMount() {\n    const labels = await getApi.getLabelList();\n    const data = await getApi.getPhotoList(this.state.page, 12, this.props.chklist);\n    const meta = data.meta;\n    const photos = data.photos;\n    console.log(data);\n    this.setState({\n      photos: photos,\n      meta: meta,\n      labels: labels\n    });\n    console.log(this.state.photos);\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    console.log(prevState, this.state);\n\n    if (prevState.chklist !== this.state.chklist || prevState.page !== this.state.page) {\n      console.log(\"App update2\");\n      const data = await getApi.getPhotoList(this.props.page, 12, this.props.chklist);\n      const meta = data.meta;\n      const photos = data.photos;\n      this.setState({\n        photos: photos,\n        meta: meta\n      });\n    }\n  }\n\n  render() {\n    console.log(111);\n    return /*#__PURE__*/_jsxDEV(Router, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/\",\n        component: () => /*#__PURE__*/_jsxDEV(PhotoList, {\n          page: this.state.page,\n          maxPage: this.state.maxPage,\n          meta: this.state.meta,\n          chklist: this.state.chklist,\n          photos: this.state.photos,\n          setPage: this.setPage,\n          setMeta: this.setMeta,\n          setChklist: this.setChklist,\n          labels: this.state.labels,\n          setPhotos: this.setPhotos\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 48\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/detail\",\n        component: Detail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/kimmold/Programming/코딩테스트/NearthLab/nearthlab/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","Switch","PhotoList","Detail","getApi","App","state","page","meta","total","chklist","labels","photos","setPhotos","sendPhotos","console","log","setState","setPage","sendPage","setMeta","sendMeta","setChklist","sendChklist","componentDidMount","getLabelList","data","getPhotoList","props","componentDidUpdate","prevProps","prevState","render","maxPage"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport PhotoList from \"./pages/photoList\";\nimport Detail from \"./pages/detail\";\nimport getApi from './@api/api';\n\nclass App extends React.Component {\n  state = {\n    page: 1,\n    meta: {total:1},\n    chklist: [],\n    labels: [],\n    photos:[],\n  }\n  async componentDidMount() {\n\n    const labels = await getApi.getLabelList();\n    const data = await getApi.getPhotoList(this.state.page, 12, this.props.chklist);\n    const meta = data.meta;\n    const photos = data.photos;\n\n    console.log(data);\n    this.setState({ photos: photos, meta: meta, labels: labels });\n    console.log(this.state.photos)\n  }\n  async componentDidUpdate(prevProps, prevState) {\n    console.log(prevState,this.state);\n    if (prevState.chklist !== this.state.chklist || prevState.page !== this.state.page) {\n      console.log(\"App update2\");\n      const data = await getApi.getPhotoList(this.props.page, 12, this.props.chklist);\n      const meta = data.meta;\n      const photos = data.photos;\n      this.setState({ photos: photos,meta:meta});\n    }\n  }\n  setPhotos = sendPhotos => {\n    console.log(\"sendpthos\",sendPhotos)\n    this.setState({\n      photos:sendPhotos\n    })\n  }\n  setPage = sendPage => {\n    console.log(sendPage)\n    this.setState({\n      page: sendPage\n    });\n  };\n  setMeta = sendMeta => {\n    this.setState({\n      meta: sendMeta\n    });\n  };\n  setChklist = sendChklist => {\n    this.setState({\n      chklist: sendChklist\n    });\n  };\n\n  render() {\n    console.log(111);\n    return (\n      <Router>\n\n        <Route exact path=\"/\" component={() => <PhotoList\n          page={this.state.page}\n          maxPage={this.state.maxPage}\n          meta={this.state.meta}\n          chklist={this.state.chklist}\n          photos={this.state.photos}\n          setPage={this.setPage}\n          setMeta={this.setMeta}\n          setChklist={this.setChklist}\n          labels={this.state.labels}\n          setPhotos={this.setPhotos}\n        />} />\n        <Route exact path=\"/detail\" component={Detail}/>\n      </Router>\n    );\n  }\n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}