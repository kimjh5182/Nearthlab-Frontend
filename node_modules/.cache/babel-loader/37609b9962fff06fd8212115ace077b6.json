{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kimmold\\\\Programming\\\\\\uCF54\\uB529\\uD14C\\uC2A4\\uD2B8\\\\NearthLab\\\\nearthlab\\\\src\\\\pages\\\\photoList.js\";\nimport getApi from '../@api/api.js';\nimport React from 'react';\nimport Pagination from \"react-js-pagination\";\nimport { Link } from 'react-router-dom';\nimport './paging.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Photo extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      img: \"\",\n      name: \"\",\n      labelCnt: 0\n    };\n  }\n\n  componentDidMount() {\n    let parse = this.props.photoInfo.photoUrl.split('/');\n    const name = parse[parse.length - 1];\n    const labelCnt = this.props.photoInfo.labels.length;\n    this.setState({\n      name: name,\n      labelCnt: labelCnt\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"23vw\",\n        height: \"24vw\",\n        textAlign: \"center\",\n        margin: 6,\n        border: \"1px solid #dfe3ea\",\n        position: \"relative\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: {\n          pathname: '/detail',\n          state: {\n            photoInfo: this.props.photoInfo,\n            name: this.state.name,\n            labels: this.props.labels\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: this.props.photoInfo.photoUrl,\n          style: {\n            height: \"77%\",\n            width: \"100%\",\n            position: \"relative\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 7\n      }, this), this.props.photoInfo.completed ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: require(\"../image/done.svg\").default,\n        style: {\n          width: \"5vw\",\n          position: \"absolute\",\n          top: 10,\n          right: 10\n        },\n        onClick: () => this.handleComplete()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 23\n      }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n        src: require(\"../image/imperfect.svg\").default,\n        style: {\n          width: \"5vw\",\n          position: \"absolute\",\n          top: 10,\n          right: 10\n        },\n        onClick: () => this.handleComplete()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          height: \"23%\",\n          marginRight: 10,\n          marginLeft: 10\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontFamily: \"'Noto Sans KR'\",\n            fontSize: 26,\n            color: \"#434959\",\n            marginLeft: 20\n          },\n          children: this.state.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontFamily: \"'Noto Sans KR'\",\n            fontSize: 13,\n            color: \"#434959\"\n          },\n          children: [\"\\uB77C\\uBCA8 \", this.state.labelCnt, \"\\uAC1C\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 12\n    }, this);\n  }\n\n}\n\nclass PhotoList extends React.Component {\n  constructor() {\n    super(...arguments);\n\n    this.handleLabelClick = async e => {\n      console.log(this.props.chklist, e.target.id, this.props.chklist.includes(e.target.id));\n      let arr = this.props.chklist.slice();\n\n      if (e.target.checked) {\n        arr.push(e.target.id);\n        this.props.setChklist(arr); //this.props.setPhotos(data.photos);\n        //this.setState({ photos: data.photos });\n\n        console.log(this.props.chklist, e.target.id, this.props.chklist.includes(e.target.id));\n        this.props.setPage(1); //this.setState({chklist:arr});\n      } else {\n        arr = arr.filter(element => element !== e.target.id);\n        console.log(arr);\n        this.props.setChklist(arr); //this.setState({ photos: data.photos });\n\n        console.log(this.props.chklist);\n        this.props.setPage(1);\n      }\n    };\n  }\n\n  handlePageChange(pageNumber) {\n    console.log(pageNumber);\n    this.props.setPage(pageNumber);\n  }\n\n  render() {\n    console.log(\"render!\");\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: 16,\n          fontFamily: \"'Noto Sans KR'\",\n          marginTop: 27,\n          marginLeft: 28\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          style: {\n            width: 20,\n            height: 20\n          },\n          src: require(\"../image/group-2.svg\").default\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 98\n        }, this), \"\\uB77C\\uBCA8 \\uC885\\uB958 \\uC120\\uD0DD\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 12,\n          marginLeft: 28,\n          marginRight: 28,\n          paddingBottom: 25,\n          borderBottom: \"1px solid #dfe3ea\"\n        },\n        children: this.props.labels.map(item => /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            fontFamily: \"'Noto Sans KR'\",\n            fontSize: 13,\n            color: \"#727682\",\n            marginRight: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            id: item.id,\n            onChange: e => this.handleLabelClick(e),\n            checked: this.props.chklist.includes(String(item.id))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 107\n          }, this), item.title]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontFamily: \"'Noto Sans KR'\",\n          fontSize: 16,\n          color: \"##434959\",\n          marginLeft: 28,\n          marginTop: 24\n        },\n        children: [\"\\uC804\\uCCB4 \", this.props.meta.total.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"), \"\\uAC1C\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexWrap: \"wrap\",\n          justifyContent: \"space-between\",\n          marginLeft: 28,\n          marginRight: 28\n        },\n        children: this.props.photos.map(item => /*#__PURE__*/_jsxDEV(Photo, {\n          photoInfo: item,\n          labels: this.props.labels\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n        itemClass: \"page-item\",\n        hideFirstLastPages: true,\n        activePage: this.props.page,\n        itemsCountPerPage: this.props.meta.per,\n        totalItemsCount: this.props.meta.total,\n        pageRangeDisplayed: 8,\n        onChange: this.handlePageChange.bind(this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default PhotoList;","map":{"version":3,"sources":["C:/Users/kimmold/Programming/코딩테스트/NearthLab/nearthlab/src/pages/photoList.js"],"names":["getApi","React","Pagination","Link","Photo","Component","state","img","name","labelCnt","componentDidMount","parse","props","photoInfo","photoUrl","split","length","labels","setState","render","width","height","textAlign","margin","border","position","pathname","completed","require","default","top","right","handleComplete","display","justifyContent","alignItems","marginRight","marginLeft","fontFamily","fontSize","color","PhotoList","handleLabelClick","e","console","log","chklist","target","id","includes","arr","slice","checked","push","setChklist","setPage","filter","element","handlePageChange","pageNumber","marginTop","paddingBottom","borderBottom","map","item","String","title","meta","total","toString","replace","flexWrap","photos","page","per","bind"],"mappings":"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","sourcesContent":["\r\nimport getApi from '../@api/api.js';\r\nimport React from 'react';\r\nimport Pagination from \"react-js-pagination\";\r\nimport { Link } from 'react-router-dom';\r\nimport './paging.css';\r\n\r\n\r\nclass Photo extends React.Component {\r\n  state = {\r\n    img: \"\",\r\n    name: \"\",\r\n    labelCnt: 0,\r\n  }\r\n  componentDidMount(){\r\n    let parse=this.props.photoInfo.photoUrl.split('/');\r\n    const name=parse[parse.length-1];\r\n    const labelCnt=this.props.photoInfo.labels.length;\r\n    this.setState({name:name,labelCnt:labelCnt});\r\n  }\r\n  render() {\r\n    return <div style={{ width: \"23vw\", height: \"24vw\", textAlign: \"center\", margin: 6, border: \"1px solid #dfe3ea\" ,position:\"relative\"}}>\r\n      <Link to={{ pathname: '/detail', state: { photoInfo: this.props.photoInfo,name:this.state.name, labels:this.props.labels } }} >\r\n        <img src={this.props.photoInfo.photoUrl} style={{ height: \"77%\", width: \"100%\",position:\"relative\" }} />\r\n      </Link>\r\n      {this.props.photoInfo.completed\r\n                    ? <img src={require(\"../image/done.svg\").default} style={{width: \"5vw\",position:\"absolute\",top:10,right:10}} onClick={()=>this.handleComplete()} />\r\n                    : <img src={require(\"../image/imperfect.svg\").default} style={{width: \"5vw\",position:\"absolute\",top:10,right:10}} onClick={()=>this.handleComplete()} />\r\n                }\r\n      <div style={{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",height:\"23%\",marginRight:10,marginLeft:10}}>\r\n       <div style={{fontFamily: \"'Noto Sans KR'\", fontSize: 26, color: \"#434959\",marginLeft:20}}>{this.state.name}</div>\r\n       <div style={{fontFamily: \"'Noto Sans KR'\", fontSize: 13, color: \"#434959\"}}>라벨 {this.state.labelCnt}개</div>\r\n      </div>\r\n    </div>\r\n  }\r\n}\r\n\r\n\r\nclass PhotoList extends React.Component {\r\n  handleLabelClick =async (e) => {\r\n    console.log(this.props.chklist, e.target.id, this.props.chklist.includes(e.target.id));\r\n    let arr = this.props.chklist.slice();\r\n    if (e.target.checked) {\r\n      arr.push(e.target.id);\r\n      this.props.setChklist(arr)\r\n      //this.props.setPhotos(data.photos);\r\n      //this.setState({ photos: data.photos });\r\n      console.log(this.props.chklist, e.target.id, this.props.chklist.includes(e.target.id));\r\n      this.props.setPage(1);\r\n      //this.setState({chklist:arr});\r\n    }\r\n    else {\r\n      arr = arr.filter((element) => element !== (e.target.id));\r\n      console.log(arr);\r\n      this.props.setChklist(arr);\r\n\r\n      //this.setState({ photos: data.photos });\r\n      console.log(this.props.chklist)\r\n      this.props.setPage(1);\r\n    }\r\n\r\n  }\r\n\r\n  handlePageChange(pageNumber) {\r\n    console.log(pageNumber)\r\n    this.props.setPage(pageNumber);\r\n  }\r\n\r\n  render() {\r\n    console.log(\"render!\");\r\n\r\n    return <>\r\n      <div style={{ fontSize: 16, fontFamily: \"'Noto Sans KR'\", marginTop: 27, marginLeft: 28 }}><img style={{width:20,height:20}}src={require(\"../image/group-2.svg\").default} />라벨 종류 선택</div>\r\n      <div style={{ marginTop: 12, marginLeft: 28, marginRight: 28, paddingBottom: 25, borderBottom: \"1px solid #dfe3ea\" }}>\r\n        {this.props.labels.map((item) => (\r\n          <label style={{ fontFamily: \"'Noto Sans KR'\", fontSize: 13, color: \"#727682\", marginRight: 8 }}><input type=\"checkbox\" id={item.id} onChange={(e) => this.handleLabelClick(e)} checked={this.props.chklist.includes(String(item.id))} />{item.title}</label>\r\n        ))}\r\n      </div>\r\n      <div style={{ fontFamily: \"'Noto Sans KR'\", fontSize: 16, color: \"##434959\", marginLeft: 28,marginTop:24 }}>\r\n        전체 {this.props.meta.total.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}개\r\n      </div>\r\n      <div style={{ display: 'flex', flexWrap: \"wrap\", justifyContent: \"space-between\", marginLeft:28,marginRight:28 }}>\r\n        {this.props.photos.map((item) => (\r\n          <Photo photoInfo={item} labels={this.props.labels} />\r\n        ))}\r\n      </div>\r\n      <Pagination\r\n        itemClass=\"page-item\"\r\n        hideFirstLastPages={true}\r\n        activePage={this.props.page}\r\n        itemsCountPerPage={this.props.meta.per}\r\n        totalItemsCount={this.props.meta.total}\r\n        pageRangeDisplayed={8}\r\n        onChange={this.handlePageChange.bind(this)}\r\n      />\r\n    </>\r\n  }\r\n}\r\n\r\nexport default PhotoList;\r\n"]},"metadata":{},"sourceType":"module"}