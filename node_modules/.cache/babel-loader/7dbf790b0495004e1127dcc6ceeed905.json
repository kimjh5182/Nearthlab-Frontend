{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kimmold\\\\Programming\\\\\\uCF54\\uB529\\uD14C\\uC2A4\\uD2B8\\\\NearthLab\\\\nearthlab\\\\src\\\\pages\\\\photoList.js\";\nimport getApi from '../@api/api.js';\nimport React from 'react';\nimport { useHisory, withRouter } from 'react-router-dom';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass PhotoList extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      photos: [],\n      loaded: false,\n      labels: [],\n      chklist: []\n    };\n\n    this.handleLabelClick = e => {\n      console.log(e.target.id);\n      let arr = this.state.chklist;\n\n      if (e.target.checked) {\n        arr.push(e.target.id);\n        this.setState({\n          chklist: arr\n        }, async () => {\n          const photos = await getApi.getPhotoList(1, 12, this.state.chklist);\n          this.setState({\n            photos: photos\n          });\n          console.log(this.state.chklist);\n        });\n      } else {\n        arr = arr.filter(element => element !== e.target.id);\n        this.setState({\n          chklist: arr\n        }, async () => {\n          const photos = await getApi.getPhotoList(1, 12, this.state.chklist);\n          this.setState({\n            photos: photos\n          });\n          console.log(this.state.chklist);\n        });\n      }\n    };\n  }\n\n  async componentDidMount() {\n    const photos = await getApi.getPhotoList(1, 12, this.state.chklist);\n    const labels = await getApi.getLabelList();\n    this.setState({\n      photos: photos,\n      labels: labels,\n      loaded: true\n    });\n  }\n\n  render() {\n    if (!this.state.loaded) return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);else return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [this.state.labels.map(item => /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          id: item.id,\n          onChange: e => this.handleLabelClick(e)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 16\n        }, this), item.title]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexWrap: \"wrap\",\n          justifyContent: \"space-evenly\"\n        },\n        children: this.state.photos.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1,\n            flexBasis: \"25%\",\n            textAlign: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: item.photoUrl,\n            style: {\n              height: \"80%\",\n              width: \"80%\"\n            },\n            onClick: () => {\n              this.props.histoty.push(\"/detail\");\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default _c = withRouter(PhotoList);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["C:/Users/kimmold/Programming/코딩테스트/NearthLab/nearthlab/src/pages/photoList.js"],"names":["getApi","React","useHisory","withRouter","PhotoList","Component","state","photos","loaded","labels","chklist","handleLabelClick","e","console","log","target","id","arr","checked","push","setState","getPhotoList","filter","element","componentDidMount","getLabelList","render","map","item","title","display","flexWrap","justifyContent","flex","flexBasis","textAlign","photoUrl","height","width","props","histoty"],"mappings":";AACA,OAAOA,MAAP,MAAmB,gBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAmBC,UAAnB,QAAsC,kBAAtC;;;;AAEA,MAAMC,SAAN,SAAwBH,KAAK,CAACI,SAA9B,CAAwC;AAAA;AAAA;AAAA,SACtCC,KADsC,GAChC;AACJC,MAAAA,MAAM,EAAC,EADH;AAEJC,MAAAA,MAAM,EAAC,KAFH;AAGJC,MAAAA,MAAM,EAAC,EAHH;AAIJC,MAAAA,OAAO,EAAC;AAJJ,KADgC;;AAAA,SAatCC,gBAbsC,GAalBC,CAAD,IAAK;AACtBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,MAAF,CAASC,EAArB;AACA,UAAIC,GAAG,GAAC,KAAKX,KAAL,CAAWI,OAAnB;;AACA,UAAGE,CAAC,CAACG,MAAF,CAASG,OAAZ,EAAoB;AAClBD,QAAAA,GAAG,CAACE,IAAJ,CAASP,CAAC,CAACG,MAAF,CAASC,EAAlB;AACA,aAAKI,QAAL,CAAc;AAACV,UAAAA,OAAO,EAACO;AAAT,SAAd,EAA4B,YAAU;AACpC,gBAAMV,MAAM,GAAG,MAAMP,MAAM,CAACqB,YAAP,CAAoB,CAApB,EAAsB,EAAtB,EAAyB,KAAKf,KAAL,CAAWI,OAApC,CAArB;AACA,eAAKU,QAAL,CAAc;AAACb,YAAAA,MAAM,EAACA;AAAR,WAAd;AACAM,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAKR,KAAL,CAAWI,OAAvB;AACD,SAJD;AAKD,OAPD,MAQI;AACFO,QAAAA,GAAG,GAACA,GAAG,CAACK,MAAJ,CAAYC,OAAD,IAAWA,OAAO,KAAGX,CAAC,CAACG,MAAF,CAASC,EAAzC,CAAJ;AACA,aAAKI,QAAL,CAAc;AAACV,UAAAA,OAAO,EAACO;AAAT,SAAd,EAA4B,YAAU;AACpC,gBAAMV,MAAM,GAAG,MAAMP,MAAM,CAACqB,YAAP,CAAoB,CAApB,EAAsB,EAAtB,EAAyB,KAAKf,KAAL,CAAWI,OAApC,CAArB;AACA,eAAKU,QAAL,CAAc;AAACb,YAAAA,MAAM,EAACA;AAAR,WAAd;AACAM,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAKR,KAAL,CAAWI,OAAvB;AAAgC,SAHlC;AAKD;AACF,KAhCqC;AAAA;;AAOf,QAAjBc,iBAAiB,GAAG;AACxB,UAAMjB,MAAM,GAAG,MAAMP,MAAM,CAACqB,YAAP,CAAoB,CAApB,EAAsB,EAAtB,EAAyB,KAAKf,KAAL,CAAWI,OAApC,CAArB;AACA,UAAMD,MAAM,GAAG,MAAMT,MAAM,CAACyB,YAAP,EAArB;AACA,SAAKL,QAAL,CAAc;AAACb,MAAAA,MAAM,EAACA,MAAR;AAAeE,MAAAA,MAAM,EAACA,MAAtB;AAA8BD,MAAAA,MAAM,EAAC;AAArC,KAAd;AACD;;AAsBDkB,EAAAA,MAAM,GAAG;AACP,QAAG,CAAC,KAAKpB,KAAL,CAAWE,MAAf,EAAuB,oBAAO,qCAAP,CAAvB,KACK,oBAAO;AAAA,iBACT,KAAKF,KAAL,CAAWG,MAAX,CAAkBkB,GAAlB,CAAuBC,IAAD,iBACrB;AAAA,gCAAO;AAAO,UAAA,IAAI,EAAC,UAAZ;AAAuB,UAAA,EAAE,EAAEA,IAAI,CAACZ,EAAhC;AAAoC,UAAA,QAAQ,EAAGJ,CAAD,IAAK,KAAKD,gBAAL,CAAsBC,CAAtB;AAAnD;AAAA;AAAA;AAAA;AAAA,gBAAP,EAAuFgB,IAAI,CAACC,KAA5F;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,CADS,eAIV;AAAK,QAAA,KAAK,EAAE;AAACC,UAAAA,OAAO,EAAC,MAAT;AAAgBC,UAAAA,QAAQ,EAAC,MAAzB;AAAgCC,UAAAA,cAAc,EAAC;AAA/C,SAAZ;AAAA,kBACC,KAAK1B,KAAL,CAAWC,MAAX,CAAkBoB,GAAlB,CAAuBC,IAAD,iBACrB;AAAK,UAAA,KAAK,EAAE;AAACK,YAAAA,IAAI,EAAC,CAAN;AAAQC,YAAAA,SAAS,EAAC,KAAlB;AAAwBC,YAAAA,SAAS,EAAC;AAAlC,WAAZ;AAAA,iCACE;AAAK,YAAA,GAAG,EAAEP,IAAI,CAACQ,QAAf;AAAyB,YAAA,KAAK,EAAE;AAACC,cAAAA,MAAM,EAAC,KAAR;AAAcC,cAAAA,KAAK,EAAC;AAApB,aAAhC;AAA4D,YAAA,OAAO,EAAE,MAAI;AAAC,mBAAKC,KAAL,CAAWC,OAAX,CAAmBrB,IAAnB,CAAwB,SAAxB;AAAoC;AAA9G;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADD;AADD;AAAA;AAAA;AAAA;AAAA,cAJU;AAAA,oBAAP;AAYN;;AA/CqC;;AAmDxC,oBAAehB,UAAU,CAACC,SAAD,CAAzB","sourcesContent":["\r\nimport getApi from '../@api/api.js';\r\nimport React from 'react';\r\nimport { useHisory,withRouter  } from 'react-router-dom';\r\n\r\nclass PhotoList extends React.Component {\r\n  state={\r\n    photos:[],\r\n    loaded:false,\r\n    labels:[],\r\n    chklist:[],\r\n  };\r\n  async componentDidMount() {\r\n    const photos = await getApi.getPhotoList(1,12,this.state.chklist);\r\n    const labels = await getApi.getLabelList();\r\n    this.setState({photos:photos,labels:labels, loaded:true});\r\n  }\r\n\r\n  handleLabelClick = (e)=>{\r\n    console.log(e.target.id);\r\n    let arr=this.state.chklist;\r\n    if(e.target.checked){\r\n      arr.push(e.target.id);\r\n      this.setState({chklist:arr},async ()=>{\r\n        const photos = await getApi.getPhotoList(1,12,this.state.chklist);\r\n        this.setState({photos:photos});\r\n        console.log(this.state.chklist);\r\n      });\r\n    }\r\n    else{\r\n      arr=arr.filter((element)=>element!==e.target.id);\r\n      this.setState({chklist:arr},async ()=>{\r\n        const photos = await getApi.getPhotoList(1,12,this.state.chklist);\r\n        this.setState({photos:photos});\r\n        console.log(this.state.chklist)}\r\n      );\r\n    }\r\n  }\r\n  render() {\r\n    if(!this.state.loaded) return <></>;\r\n    else return <>\r\n      {this.state.labels.map((item)=>(\r\n        <label><input type=\"checkbox\" id={item.id} onChange={(e)=>this.handleLabelClick(e)} />{item.title}</label>\r\n      ))}\r\n      <div style={{display:'flex',flexWrap:\"wrap\",justifyContent:\"space-evenly\"}}>\r\n      {this.state.photos.map((item)=>(\r\n        <div style={{flex:1,flexBasis:\"25%\",textAlign:\"center\"}}>\r\n          <img src={item.photoUrl} style={{height:\"80%\",width:\"80%\"}} onClick={()=>{this.props.histoty.push(\"/detail\");}}/>\r\n        </div>\r\n      ))}\r\n      </div>\r\n    </>\r\n  }\r\n}\r\n\r\n\r\nexport default withRouter(PhotoList);\r\n"]},"metadata":{},"sourceType":"module"}